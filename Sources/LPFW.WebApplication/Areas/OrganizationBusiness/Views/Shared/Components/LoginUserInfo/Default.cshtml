@{
    var userName = ViewData["LoginUserName"] as string;
    var loginPath="/" + ViewContext.RouteData.Values["area"].ToString() + "/" + ViewContext.RouteData.Values["controller"].ToString()+"/"+ViewContext.RouteData.Values["action"].ToString();
}

@if (String.IsNullOrEmpty(userName))
{
    <a href="/Account/Login?returnUrl=@loginPath" class="nav-link nav-link-lg nav-link-user">
        <img alt="image" src="/images/avatar/avatar-1.png" class="rounded-circle mr-1">
        <div class="d-sm-none d-lg-inline-block">登录系统  </div>
    </a>
}
else
{
    <a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg nav-link-user">
        <img alt="image" src="@ViewData["LoginUserAvatarPath"]" class="rounded-circle mr-1">
        <div class="d-sm-none d-lg-inline-block">@ViewData["LoginUserName"]</div>
    </a>
    <!-- 待处理 -->
    <div class="dropdown-menu dropdown-menu-right">
        <div class="dropdown-title" style="font-size:13px">欢迎进入系统</div>
        <a href="/Profile/Index" class="dropdown-item has-icon">
            <i class="far fa-user"></i> 个人资料
        </a>
        <a href="/Profile/Activity" class="dropdown-item has-icon">
            <i class="fas fa-bolt"></i> 活动日志
        </a>
        <a href="/Profile/Settings" class="dropdown-item has-icon">
            <i class="fas fa-cog"></i> 设置
        </a>
        <div class="dropdown-divider"></div>
        <a href="/Account/Logout" class="dropdown-item has-icon text-danger">
            <i class="fas fa-sign-out-alt"></i> 退出登录
        </a>
    </div>
}
